# Отчёт по лабораторной 3
> Работа с сетями

## Ход работы

### 1) Создание виртуальных машин A, B, C
> Первым делом нужно установить три убунту сервера. Так как машины понадобится три, то это оптимальный способ, 
> потому что в сервере нет ничего лишнего - только командная строка. Скачиваем образ диска с официального сайта и создаём три машины.
![три машины.png](screenshots%2F%D1%82%D1%80%D0%B8%20%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D1%8B.png)

### 2) Настройка сети
> Чтобы машины можно было подключить друг к другу, нужно задать им общую сеть.
![net.png](screenshots%2Fnet.png)

### 3) Подключение к интернету
> Проверка соединения к сети интернет. Проверим соединение с сайтом гугл командой
> `ping google.com`
![работает интернет на 3х.png](screenshots%2F%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82%20%D0%BD%D0%B0%203%D1%85.png)

### 4) Айпи
> Узнаём айпи адреса трёх машин командой `ip addr show`
>> - A: 192.168.31.186
>> - B: 192.168.31.122
>> - C: 192.168.31.144
>
> ![айпи 3х машинок.png](screenshots%2F%D0%B0%D0%B9%D0%BF%D0%B8%203%D1%85%20%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%BE%D0%BA.png)

### 5) Установка соединения от машины А
> Командой пинг соединим машины А -> B и A -> С
> - ![соединение с машиной б.png](screenshots%2F%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%81%20%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%BE%D0%B9%20%D0%B1.png)
> - ![соедниение с машиной с.png](screenshots%2F%D1%81%D0%BE%D0%B5%D0%B4%D0%BD%D0%B8%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%81%20%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%BE%D0%B9%20%D1%81.png)

### 6) Прерываем связь машины Б с машиной С
>  С помощью команды `sudo iptables -A INPUT -s {ip} -j DROP` прерываем соединение машин Б и С
![убрали соединение машин б и с.png](screenshots%2F%D1%83%D0%B1%D1%80%D0%B0%D0%BB%D0%B8%20%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%20%D0%B1%20%D0%B8%20%D1%81.png)

### 7) Итог
> Теперь, из машины А имеем доступ к машинам Б и С, но из машины Б не имеем доступа к машине С
> ![убрали соединение машин б и с.png](screenshots%2F%D1%83%D0%B1%D1%80%D0%B0%D0%BB%D0%B8%20%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%20%D0%B1%20%D0%B8%20%D1%81.png)